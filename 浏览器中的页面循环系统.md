`宏任务和微任务`

有观点认为一段js代码也是一个宏任务，每个宏任务中包含了一个微任务队列，每次宏任务执行完成后直接在宏任务的执行上下文中，js引擎会去检查微任务队列并执行。
微任务的出现的意义在于平衡执行效率和任务的实时性要求，比如Dom变化事件的处理，需要一定的实时性，但又不能太频繁地阻塞同步代码的执行。

`setTimeout是如何实现的`

- 将setTimeout的的函数放入一个延迟任务队列
- 每次执行完一个宏任务后，去check这个延迟任务队列，是否有任务的执行时间已经到达，如果到达了则将其清除，并在宏任务队列中添加一个任务，即setTimeout的执行任务